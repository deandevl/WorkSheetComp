{"version":3,"sources":["node_modules/worksheetcomp/WorkSheetComp.vue","src/App.vue","src/app.js"],"names":["Vue","render","h","App","$mount"],"mappings":"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","file":"app.af9b1e07.js","sourceRoot":"..","sourcesContent":["<template>\r\n  <div class=\"worksheetComp\">\r\n    <div class=\"worksheetComp_idxBox\" v-if=\"sheet_rows !== null && headings !== null\" :style=\"column_styles[0]\">\r\n      <table class=\"worksheetComp_table\">\r\n        <tbody>\r\n        <tr>\r\n          <th class=\"worksheetComp_th\" v-on:click=\"sort_column(0)\">{{headings[0]}}</th>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div id=\"hor\" class=\"worksheetComp_headingsBox\" v-if=\"sheet_rows !== null && headings !== null\" :style=\"hor_box_style\">\r\n      <table class=\"worksheetComp_table\">\r\n        <tbody>\r\n        <tr>\r\n          <th\r\n              class=\"worksheetComp_th\"\r\n              v-for=\"cell_idx in headings.length-1\"\r\n              :key=\"cell_idx\"\r\n              :style=\"column_styles[cell_idx]\"\r\n              v-on:click=\"sort_column(cell_idx)\">\r\n            {{headings[cell_idx]}}\r\n          </th>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div id=\"vert\" class=\"worksheetComp_vertBox\" v-if=\"sheet_rows !== null\" :style=\"vert_box_style\">\r\n      <table class=\"worksheetComp_table\" :style=\"vert_table_style\">\r\n        <tbody>\r\n        <tr v-for=\"(row,row_idx) in sheet_rows\" :key=\"row_idx\">\r\n          <td class=\"worksheetComp_td\">\r\n            {{row[0]}}\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div class=\"worksheetComp_dataBox\" v-if=\"sheet_rows !== null && headings !== null\" :style=\"data_box_style\"  v-on:scroll=\"scroll_table\">\r\n      <table class=\"worksheetComp_table\">\r\n        <tbody>\r\n        <tr class=\"worksheetComp_trData\" v-for=\"(row,row_idx) in sheet_rows\" :key=\"row_idx\">\r\n          <td\r\n              class=\"worksheetComp_td\"\r\n              v-for=\"cell_idx in headings.length-1\"\r\n              :key=\"cell_idx\"\r\n              :style=\"column_styles[cell_idx]\"\r\n              v-on:click=\"cell_click($event,row_idx,cell_idx)\">\r\n            {{row[cell_idx]}}\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'WorkSheetComp',\r\n    data(){\r\n      return {\r\n        computed_idx_box_width: 0,\r\n        computed_table_width: 0,\r\n        computed_table_height: 0,\r\n        selected_td: null,\r\n        sort_col_idx: null,\r\n        sort_descend: null\r\n      }\r\n    },\r\n    props: {\r\n      sheet_rows: {\r\n        type: Array,\r\n        default: null\r\n      },\r\n      headings: {\r\n        type: Array,\r\n        default: null\r\n      },\r\n      column_widths: {\r\n        type: Array,\r\n        default: null\r\n      },\r\n      table_width: {\r\n        type: Number,\r\n        default: 600\r\n      },\r\n      rows_per_view: {\r\n        type: Number,\r\n        default: 10\r\n      },\r\n      sort_descending: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      sort_column_idx: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      css_variables: {\r\n        type: Object,\r\n        default: null\r\n      }\r\n    },\r\n    computed: {\r\n      column_styles: function(){\r\n        let total_width = 0;\r\n        const n_cells = this.sheet_rows[0].length;\r\n        let column_styles = new Array(n_cells);\r\n        for(let i=0; i<n_cells; i++){\r\n          if(this.column_widths === null || this.column_widths[i] === null){\r\n            column_styles[i] = `min-width:${120}px;` +\r\n              `max-width:${120}px;` +\r\n              'overflow: hidden;cursor: pointer;';\r\n            total_width += 120;\r\n          }else{\r\n            column_styles[i] = `min-width:${this.column_widths[i]}px;` +\r\n              `max-width:${this.column_widths[i]}px;` +\r\n              'overflow: hidden;cursor: pointer;';\r\n            total_width += this.column_widths[i];\r\n          }\r\n        }\r\n\r\n        this.computed_idx_box_width = 0;\r\n        if(this.column_widths === null){\r\n          this.computed_idx_box_width = 120;\r\n        }else if(this.column_widths[0] === null){\r\n          this.computed_idx_box_width = 120;\r\n        }else{\r\n          this.computed_idx_box_width = this.column_widths[0];\r\n        }\r\n\r\n        //each cell has column_width[i] plus 2 (1px padding left and 1px padding right)\r\n        const table_width = total_width + (this.headings.length * 2);\r\n        if(this.table_width > table_width){\r\n          this.computed_table_width = table_width + 2;\r\n        }else {\r\n          this.computed_table_width = this.table_width;\r\n        }\r\n        return column_styles;\r\n      },\r\n      hor_box_style: function(){\r\n        return `left:${this.computed_idx_box_width+1}px; width:${this.computed_table_width}px;`;\r\n      },\r\n      vert_box_style: function(){\r\n        const n_rows = this.sheet_rows.length;\r\n        let vert_box_height = 0;\r\n        if(n_rows < this.rows_per_view){\r\n          //each row is 16 pixels in height + 2 top/bottom padding\r\n          vert_box_height = (18 * n_rows);\r\n        }else{\r\n          //each row is 16 pixels in height + 2 top/bottom padding\r\n          vert_box_height = (18 * this.rows_per_view);\r\n        }\r\n        return `width:${this.computed_idx_box_width}px; height:${vert_box_height}px;`;\r\n      },\r\n      vert_table_style: function(){\r\n        return `width:${this.computed_idx_box_width}px;`;\r\n      },\r\n      data_box_style: function(){\r\n        let box_style = null;\r\n        if(this.sheet_rows !== null){\r\n          const n_rows = this.sheet_rows.length;\r\n          let data_box_height = 0;\r\n          if(n_rows < this.rows_per_view){\r\n            //each row is 16 pixels in height + 2 padding\r\n            data_box_height = (18 * n_rows);\r\n          }else{\r\n            //each row is 16 pixels in height + 2 padding + bottom scrollbar height\r\n            data_box_height = (18 * this.rows_per_view) + 12;\r\n          }\r\n          box_style = `left:${this.computed_idx_box_width + 1}px; width:${this.computed_table_width}px; height:${data_box_height}px;`;\r\n        }\r\n        return box_style;\r\n      }\r\n    },\r\n    methods: {\r\n      sort_column: function(col_index){\r\n        if(col_index === this.sort_col_idx){\r\n          this.sort_descend = !this.sort_descend;\r\n        }else{\r\n          this.sort_col_idx = col_index;\r\n        }\r\n\r\n        const self = this;\r\n        this.sheet_rows.sort(sort_function);\r\n        function sort_function(a, b){\r\n          let x = a[self.sort_col_idx];\r\n          let y = b[self.sort_col_idx];\r\n          if(typeof x === 'string'){\r\n            x = x.toLowerCase();\r\n          }\r\n          if(typeof y === 'string'){\r\n            y = y.toLowerCase();\r\n          }\r\n          if(self.sort_descend){\r\n            return ((x < y) ? 1 : ((x > y) ? -1 : 0));\r\n          }else{\r\n            return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n          }\r\n        }\r\n      },\r\n      scroll_table: function(e){\r\n        document.querySelector('#vert').scrollTop = e.currentTarget.scrollTop;\r\n        document.querySelector('#hor').scrollLeft = e.currentTarget.scrollLeft;\r\n      },\r\n      cell_click: function(e,row_idx,col_idx){\r\n        if(this.selected_td !== null){\r\n          this.selected_td.classList.remove('worksheetComp_tdData__selected');\r\n        }\r\n        e.currentTarget.classList.add('worksheetComp_tdData__selected');\r\n        this.selected_td = e.currentTarget;\r\n        //we don't count the 'Index' column for the column index-so subtract 1\r\n        this.$emit('work_sheet_comp_cell',{row: row_idx, col: col_idx-1});\r\n      }\r\n    },\r\n    mounted(){\r\n      if(this.css_variables !== null){\r\n        for(let key of Object.keys(this.css_variables)){\r\n          this.$el.style.setProperty(`--${key}`, this.css_variables[key]);\r\n        }\r\n      }\r\n      this.sort_col_idx = 0;\r\n      this.sort_descend = this.sort_descending;\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  :root {\r\n    --worksheet_comp_border_color: black;\r\n    --worksheet_comp_background_color: white;\r\n\r\n    --worksheet_comp_table_color: black;\r\n\r\n    --worksheet_comp_row_hover_border: solid 1px black;\r\n    --worksheet_comp_cell_selected_color: #0f9d58;\r\n  }\r\n\r\n  .worksheetComp {\r\n    position: relative;\r\n    width: 100%;\r\n\r\n    &_idxBox {\r\n      background-color: var(--worksheet_comp_background_color);\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      padding: 4px 0 4px 18px;\r\n      font-size: 14px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    &_table {\r\n      background-color: var(--worksheet_comp_table_background_color);\r\n      border-collapse: collapse;\r\n      table-layout: fixed;\r\n    }\r\n\r\n    &_headingsBox {\r\n      background-color: var(--worksheet_comp_background_color);\r\n      position: absolute;\r\n      top: 0;\r\n      padding: 4px 0 4px 0;\r\n      overflow: hidden;\r\n    }\r\n\r\n    &_vertBox {\r\n      background-color: var(--worksheet_comp_background_color);\r\n      position: absolute;\r\n      left: 0;\r\n      top: 29px;\r\n      border-left: solid 2px var(--worksheet_comp_border_color);\r\n      overflow: hidden;\r\n    }\r\n\r\n    &_th {\r\n      text-align: center;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      padding: 1px;\r\n      font-family: sans-serif;\r\n      font-weight: bold;\r\n      font-size: 14px;\r\n      color: var(--worksheet_comp_table_color);\r\n      cursor: pointer;\r\n    }\r\n\r\n    &_td {\r\n      text-align: right;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      padding: 1px;\r\n      font-family: sans-serif;\r\n      font-size: 14px;\r\n      color: var(--worksheet_comp_table_color);\r\n    }\r\n\r\n    &_dataBox {\r\n      background-color: var(--worksheet_comp_background_color);\r\n      position: absolute;\r\n      top: 29px;\r\n      border-right: solid 2px var(--worksheet_comp_border_color);\r\n      overflow: auto;\r\n\r\n      &::-webkit-scrollbar-track {\r\n        border-radius: 10px;\r\n        background-color: transparent;\r\n      }\r\n      &::-webkit-scrollbar {\r\n        height: 12px;\r\n        width: 12px;\r\n        background-color: transparent;\r\n      }\r\n      &::-webkit-scrollbar-thumb {\r\n        border-radius: 10px;\r\n        -webkit-box-shadow: inset 0 0 8px rgba(0,0,0,.3);\r\n        background-color: #D62929;\r\n      }\r\n    }\r\n\r\n    &_trData {\r\n      &:hover {\r\n        border-bottom: var(--worksheet_comp_row_hover_border);\r\n      }\r\n    }\r\n\r\n    &_tdData__selected {\r\n      color: var(--worksheet_comp_cell_selected_color);\r\n    }\r\n  }\r\n</style>","<template>\r\n  <div class=\"demo_container\">\r\n    <work-sheet-comp\r\n        :sheet_rows=\"sheet_rows\"\r\n        :headings=\"headings\"\r\n        :column_widths=\"column_widths\"\r\n        :table_width=\"table_width\"\r\n        :rows_per_view=\"rows_per_view\"\r\n        :css_variables=\"css_variables\"\r\n        v-on:work_sheet_comp_cell=\"show_cell\">\r\n    </work-sheet-comp>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import WorkSheetComp from 'worksheetcomp';\r\n\r\n  export default {\r\n    name: 'App',\r\n    data: function() {\r\n      return {\r\n        sheet_rows: null,\r\n        headings: [\r\n          'Index',\r\n          'Parameter_1','Big_Heading_Parameter_2','Parameter_3','Parameter_4','Parameter_5',\r\n          'Parameter_6','Parameter_7','Parameter_8','Parameter_9','Parameter_10',\r\n          'Parameter_11','Parameter_12','Parameter_13','Parameter_14','Parameter_15'\r\n        ],\r\n\r\n        column_widths: [\r\n          60,\r\n          100,120,80,140,120,\r\n          120,140,100,60,120,\r\n          130,120,100,80,110\r\n        ],\r\n\r\n        table_width: 800,\r\n        rows_per_view: 25,\r\n\r\n        css_variables: {\r\n          worksheet_comp_border_color: 'white',\r\n          worksheet_comp_table_color: 'white',\r\n          worksheet_comp_background_color: 'black',\r\n          worksheet_comp_row_hover_border: 'solid 1px white'\r\n        }\r\n      };\r\n    },\r\n    components: {\r\n      WorkSheetComp\r\n    },\r\n    methods: {\r\n      show_cell: function(obj){\r\n        console.log(`row_idx: ${obj.row} col_idx: ${obj.col}`);\r\n      }\r\n    },\r\n    mounted: function() {\r\n      this.sheet_rows = [];\r\n      for(let i = 0; i < 100; i++) {\r\n        const row = [];\r\n        row.push(i+1);\r\n        for(let ii = 0; ii < 15; ii++){\r\n          const val = (Math.random() * 100.0) + 1.0;\r\n          row.push(+val.toFixed(2));\r\n        }\r\n        this.sheet_rows.push(row);\r\n      }\r\n      //assign strings to rows\r\n      this.sheet_rows[0][4] = new Date('5/24/1949').toDateString();\r\n      this.sheet_rows[1][4] = 'A String';\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .demo_container {\r\n    height: 40rem;\r\n    width: 60rem;\r\n    background-color: #000000;\r\n    padding: 2rem;\r\n  }\r\n</style>","//Note: For this demo we are referencing Vue, via its CDN. See index.html.\r\n//import Vue from 'vue';\r\nimport App from './App.vue';\r\n\r\nnew Vue({\r\n\trender: h => h(App)\r\n}).$mount('#app');\r\n"]}